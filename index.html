<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
    <head>
        <link rel="stylesheet" href="../css/designer.css"/>
        <script src="../lib/jquery-3.2.1.min.js"></script>
        <script src="./lib/lodash.js"></script>
        <script src="./designer.js"></script>
        <script type="text/javascript">
            const ev = new Designer.Rectangle({
                id: 'ev',
                text: "Start",
                position: {
                    x: 50,
                    y: 50
                }
            });
            const act = new Designer.Rectangle({
                id: 'act1',
                text: "Activity #1",
                position: {
                    x: 180,
                    y: 180
                }
            });
            const act2 = new Designer.Rectangle({
                id: 'act2',
                text: "Activity #2",
                position: {
                    x: 350,
                    y: 300
                }
            });
            const eev = new Designer.Rectangle({
                id: 'eev',
                text: "End Event",
                position: {
                    x: 700,
                    y: 80
                }
            });

            const circle = new Designer.Circle({
              id: 'myCircle',
              text: 'Circle',
              position: {
                x: 234,
                y: 183,
              }
            });

            const triangle = new Designer.Triangle({
              position: {
                x: 300,
                y: 400,
              }
            });

            const canvas = new Designer.Canvas({
              width: 1440,
              height: 900,
              elements: [
                ev,
                act,
                act2,
                eev,
                circle,
                triangle,
              ]
            });

            document.addEventListener('DOMContentLoaded', function () {
                let act3,
                    connection;

                // canvas.connect('ev', 'act1');
                // canvas.connect('act1', 'act2');
                // canvas.connect('act2', 'eev');
                document.body.appendChild(canvas.getHTML());

                act3 = new Designer.Rectangle({
                    text: "Another Activity",
                    position: {
                        x: 550,
                        y: 400
                    }
                });

                canvas.addElement(act3);
                // connection = eev.getIncomingConnections();
                // connection = connection.values();
                // connection = connection.next();
                // connection = connection.value;

                // connection.setDestShape(act3);

                canvas.connect(act3, eev);
            });
        </script>
    </head>
    <body>

    </body>
</html>
